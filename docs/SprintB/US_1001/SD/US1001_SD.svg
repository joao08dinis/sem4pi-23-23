<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1129px" preserveAspectRatio="none" style="width:2795px;height:1129px;background:#FFFFFF;" version="1.1" viewBox="0 0 2795 1129" width="2795px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="934.6094" style="stroke:#181818;stroke-width:1.0;" width="10" x="46" y="92.2813"/><rect fill="#FFFFFF" height="57.0469" style="stroke:#181818;stroke-width:1.0;" width="10" x="232" y="112.8047"/><rect fill="#FFFFFF" height="28.5234" style="stroke:#181818;stroke-width:1.0;" width="10" x="352" y="141.3281"/><rect fill="#FFFFFF" height="28.5234" style="stroke:#181818;stroke-width:1.0;" width="10" x="524" y="169.8516"/><rect fill="#FFFFFF" height="480.8047" style="stroke:#181818;stroke-width:1.0;" width="10" x="524" y="226.8984"/><rect fill="#FFFFFF" height="298.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="524" y="728.2266"/><rect fill="#FFFFFF" height="267.1406" style="stroke:#181818;stroke-width:1.0;" width="10" x="934" y="255.4219"/><rect fill="#FFFFFF" height="270.1406" style="stroke:#181818;stroke-width:1.0;" width="10" x="1071" y="756.75"/><rect fill="#FFFFFF" height="238.6172" style="stroke:#181818;stroke-width:1.0;" width="10" x="1472" y="283.9453"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2008" y="312.4688"/><rect fill="#FFFFFF" height="145.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="2119.5" y="843.7969"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2220" y="785.2734"/><rect fill="#FFFFFF" height="93.0469" style="stroke:#181818;stroke-width:1.0;" width="10" x="2336" y="370.9922"/><rect fill="#FFFFFF" height="58.5234" style="stroke:#181818;stroke-width:1.0;" width="10" x="2336" y="872.3203"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2479" y="434.0391"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2479" y="900.8438"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2607.5" y="492.5625"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2730" y="959.3672"/><rect fill="none" height="45.0469" style="stroke:#000000;stroke-width:1.5;" width="583.5" x="10" y="537.5625"/><rect fill="none" height="45.0469" style="stroke:#000000;stroke-width:1.5;" width="583.5" x="10" y="596.6094"/><rect fill="none" height="45.0469" style="stroke:#000000;stroke-width:1.5;" width="583.5" x="10" y="655.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="51" x2="51" y1="82.2813" y2="1035.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="236.5" x2="236.5" y1="82.2813" y2="1035.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="356.5" x2="356.5" y1="82.2813" y2="1035.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="528.5" x2="528.5" y1="82.2813" y2="1035.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="939" x2="939" y1="82.2813" y2="1035.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1076" x2="1076" y1="82.2813" y2="1035.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1190" x2="1190" y1="82.2813" y2="1035.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1477" x2="1477" y1="82.2813" y2="1035.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2013" x2="2013" y1="82.2813" y2="1035.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2124" x2="2124" y1="82.2813" y2="1035.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2225" x2="2225" y1="82.2813" y2="1035.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2341" x2="2341" y1="82.2813" y2="1035.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2484" x2="2484" y1="82.2813" y2="1035.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2612" x2="2612" y1="82.2813" y2="1035.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2735" x2="2735" y1="82.2813" y2="1035.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="20" y="79.3145">Manager</text><ellipse cx="51" cy="15.1406" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M51,23.1406 L51,50.1406 M38,31.1406 L64,31.1406 M51,50.1406 L38,65.1406 M51,50.1406 L64,65.1406 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="20" y="1047.5645">Manager</text><ellipse cx="51" cy="1059.0313" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M51,1067.0313 L51,1094.0313 M38,1075.0313 L64,1075.0313 M51,1094.0313 L38,1109.0313 M51,1094.0313 L64,1109.0313 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="45.2813" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="182.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="189.5" y="55.6738">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="211" y="71.3145">:UsersUi</text><rect fill="#E2E2F0" height="45.2813" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="182.5" y="1034.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="189.5" y="1054.5645">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="211" y="1070.2051">:UsersUi</text><rect fill="#E2E2F0" height="45.2813" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="301.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="315" y="55.6738">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="308.5" y="71.3145">:AddUserAction</text><rect fill="#E2E2F0" height="45.2813" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="301.5" y="1034.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="315" y="1054.5645">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="308.5" y="1070.2051">:AddUserAction</text><rect fill="#E2E2F0" height="45.2813" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="474.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="481.5" y="55.6738">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="494" y="71.3145">:AddUserUi</text><rect fill="#E2E2F0" height="45.2813" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="474.5" y="1034.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="481.5" y="1054.5645">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="494" y="1070.2051">:AddUserUi</text><rect fill="#E2E2F0" height="45.2813" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134" x="872" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="897" y="55.6738">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="879" y="71.3145">:AddUserController</text><rect fill="#E2E2F0" height="45.2813" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134" x="872" y="1034.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="897" y="1054.5645">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="879" y="1070.2051">:AddUserController</text><rect fill="#E2E2F0" height="45.2813" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="1016" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="1034" y="55.6738">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="1023" y="71.3145">:ProfileController</text><rect fill="#E2E2F0" height="45.2813" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="1016" y="1034.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="1034" y="1054.5645">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="1023" y="1070.2051">:ProfileController</text><rect fill="#E2E2F0" height="45.2813" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="1146" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="1159.5" y="55.6738">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="1153" y="71.3145">SystemUser</text><rect fill="#E2E2F0" height="45.2813" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="1146" y="1034.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="1159.5" y="1054.5645">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="1153" y="1070.2051">SystemUser</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176" x="1389" y="51.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="1396" y="71.3145">:UserManagementService</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176" x="1389" y="1034.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="1396" y="1054.5645">:UserManagementService</text><rect fill="#E2E2F0" height="45.2813" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="1964" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="1971" y="55.6738">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="1974.5" y="71.3145">:UserBuilder</text><rect fill="#E2E2F0" height="45.2813" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="1964" y="1034.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="1971" y="1054.5645">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="1974.5" y="1070.2051">:UserBuilder</text><rect fill="#E2E2F0" height="45.2813" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="2072" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="2082.5" y="55.6738">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="2079" y="71.3145">:ProfileService</text><rect fill="#E2E2F0" height="45.2813" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="2072" y="1034.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="2082.5" y="1054.5645">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="2079" y="1070.2051">:ProfileService</text><rect fill="#E2E2F0" height="45.2813" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="2187" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="2194" y="55.6738">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="2205" y="71.3145">Profile</text><rect fill="#E2E2F0" height="45.2813" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="2187" y="1034.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="2194" y="1054.5645">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="2205" y="1070.2051">Profile</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="2273" y="51.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="2280" y="71.3145">PersistenceContext</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="2273" y="1034.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="2280" y="1054.5645">PersistenceContext</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="2419" y="51.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="2426" y="71.3145">RepositoryFactory</text><rect fill="#E2E2F0" height="29.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="2419" y="1034.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="2426" y="1054.5645">RepositoryFactory</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="2570" y="63.6738">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="2559" y="79.3145">:UserRepository</text><path d="M2594.5,15 C2594.5,5 2612.5,5 2612.5,5 C2612.5,5 2630.5,5 2630.5,15 L2630.5,41 C2630.5,51 2612.5,51 2612.5,51 C2612.5,51 2594.5,51 2594.5,41 L2594.5,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M2594.5,15 C2594.5,25 2612.5,25 2612.5,25 C2612.5,25 2630.5,25 2630.5,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="2570" y="1047.5645">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="2559" y="1063.2051">:UserRepository</text><path d="M2594.5,1076.1719 C2594.5,1066.1719 2612.5,1066.1719 2612.5,1066.1719 C2612.5,1066.1719 2630.5,1066.1719 2630.5,1076.1719 L2630.5,1102.1719 C2630.5,1112.1719 2612.5,1112.1719 2612.5,1112.1719 C2612.5,1112.1719 2594.5,1112.1719 2594.5,1102.1719 L2594.5,1076.1719 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M2594.5,1076.1719 C2594.5,1086.1719 2612.5,1086.1719 2612.5,1086.1719 C2612.5,1086.1719 2630.5,1086.1719 2630.5,1076.1719 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="2692.5" y="63.6738">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="2676" y="79.3145">:ProfileRepository</text><path d="M2717,15 C2717,5 2735,5 2735,5 C2735,5 2753,5 2753,15 L2753,41 C2753,51 2735,51 2735,51 C2735,51 2717,51 2717,41 L2717,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M2717,15 C2717,25 2735,25 2735,25 C2735,25 2753,25 2753,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="2692.5" y="1047.5645">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="2676" y="1063.2051">:ProfileRepository</text><path d="M2717,1076.1719 C2717,1066.1719 2735,1066.1719 2735,1066.1719 C2735,1066.1719 2753,1066.1719 2753,1076.1719 L2753,1102.1719 C2753,1112.1719 2735,1112.1719 2735,1112.1719 C2735,1112.1719 2717,1112.1719 2717,1102.1719 L2717,1076.1719 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M2717,1076.1719 C2717,1086.1719 2735,1086.1719 2735,1086.1719 C2735,1086.1719 2753,1086.1719 2753,1076.1719 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#FFFFFF" height="934.6094" style="stroke:#181818;stroke-width:1.0;" width="10" x="46" y="92.2813"/><rect fill="#FFFFFF" height="57.0469" style="stroke:#181818;stroke-width:1.0;" width="10" x="232" y="112.8047"/><rect fill="#FFFFFF" height="28.5234" style="stroke:#181818;stroke-width:1.0;" width="10" x="352" y="141.3281"/><rect fill="#FFFFFF" height="28.5234" style="stroke:#181818;stroke-width:1.0;" width="10" x="524" y="169.8516"/><rect fill="#FFFFFF" height="480.8047" style="stroke:#181818;stroke-width:1.0;" width="10" x="524" y="226.8984"/><rect fill="#FFFFFF" height="298.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="524" y="728.2266"/><rect fill="#FFFFFF" height="267.1406" style="stroke:#181818;stroke-width:1.0;" width="10" x="934" y="255.4219"/><rect fill="#FFFFFF" height="270.1406" style="stroke:#181818;stroke-width:1.0;" width="10" x="1071" y="756.75"/><rect fill="#FFFFFF" height="238.6172" style="stroke:#181818;stroke-width:1.0;" width="10" x="1472" y="283.9453"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2008" y="312.4688"/><rect fill="#FFFFFF" height="145.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="2119.5" y="843.7969"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2220" y="785.2734"/><rect fill="#FFFFFF" height="93.0469" style="stroke:#181818;stroke-width:1.0;" width="10" x="2336" y="370.9922"/><rect fill="#FFFFFF" height="58.5234" style="stroke:#181818;stroke-width:1.0;" width="10" x="2336" y="872.3203"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2479" y="434.0391"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2479" y="900.8438"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2607.5" y="492.5625"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2730" y="959.3672"/><polygon fill="#181818" points="220,108.8047,230,112.8047,220,116.8047,224,112.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="56" x2="226" y1="112.8047" y2="112.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="63" y="108.0498">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="74" y="108.0498">requests to add new user</text><polygon fill="#181818" points="340,137.3281,350,141.3281,340,145.3281,344,141.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="242" x2="346" y1="141.3281" y2="141.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="249" y="136.5732">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="260" y="136.5732">execute()</text><polygon fill="#181818" points="512,165.8516,522,169.8516,512,173.8516,516,169.8516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="357" x2="518" y1="169.8516" y2="169.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="364" y="165.0967">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="375" y="165.0967">doShow()</text><polygon fill="#181818" points="67,194.375,57,198.375,67,202.375,63,198.375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="61" x2="528" y1="198.375" y2="198.375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="73" y="193.6201">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="433" x="84" y="193.6201">requests base data(username, password, firstName, lastName, email, role)</text><polygon fill="#181818" points="512,222.8984,522,226.8984,512,230.8984,516,226.8984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="56" x2="518" y1="226.8984" y2="226.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="63" y="222.1436">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="74" y="222.1436">inputs requested data</text><polygon fill="#181818" points="922,251.4219,932,255.4219,922,259.4219,926,255.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="534" x2="928" y1="255.4219" y2="255.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="541" y="250.667">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="370" x="552" y="250.667">addUser(username, password, firstName, lastName, email, role)</text><polygon fill="#181818" points="1460,279.9453,1470,283.9453,1460,287.9453,1464,283.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="944" x2="1466" y1="283.9453" y2="283.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="951" y="279.1904">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="498" x="962" y="279.1904">registerNewUser(username, password, firstName, lastName, email, role, creationDate)</text><polygon fill="#181818" points="1996,308.4688,2006,312.4688,1996,316.4688,2000,312.4688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1482" x2="2002" y1="312.4688" y2="312.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1489" y="307.7139">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="496" x="1500" y="307.7139">newUser = with.(username, password, firstName, lastName, email, role, creationDate)</text><polygon fill="#181818" points="2324,366.9922,2334,370.9922,2324,374.9922,2328,370.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1482" x2="2330" y1="370.9922" y2="370.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1489" y="366.2373">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="1500" y="366.2373">repositories()</text><path d="M2351,383.9922 L2351,407.9922 L2616,407.9922 L2616,393.9922 L2606,383.9922 L2351,383.9922 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2606,383.9922 L2606,393.9922 L2616,393.9922 L2606,383.9922 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244" x="2357" y="400.7607">repository can be either in memory or JPA</text><polygon fill="#181818" points="2467,430.0391,2477,434.0391,2467,438.0391,2471,434.0391" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2346" x2="2473" y1="434.0391" y2="434.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2353" y="429.2842">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="2371" y="429.2842">users()</text><polygon fill="#181818" points="2595.5,488.5625,2605.5,492.5625,2595.5,496.5625,2599.5,492.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1482" x2="2601.5" y1="492.5625" y2="492.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1489" y="487.8076">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="1507" y="487.8076">save(newUser)</text><path d="M10,537.5625 L71,537.5625 L71,544.0859 L61,554.0859 L10,554.0859 L10,537.5625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="45.0469" style="stroke:#000000;stroke-width:1.5;" width="583.5" x="10" y="537.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="550.3311">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="191" x="86" y="549.5205">[role.toString().equals("STUDENT")]</text><polygon fill="#181818" points="67,570.6094,57,574.6094,67,578.6094,63,574.6094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="61" x2="523" y1="574.6094" y2="574.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="73" y="569.8545">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="425" x="91" y="569.8545">request student data(mecanographicNumber, taxPayerNumber, birthDate)</text><path d="M10,596.6094 L71,596.6094 L71,603.1328 L61,613.1328 L10,613.1328 L10,596.6094 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="45.0469" style="stroke:#000000;stroke-width:1.5;" width="583.5" x="10" y="596.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="609.3779">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="192" x="86" y="608.5674">[role.toString().equals("TEACHER")]</text><polygon fill="#181818" points="67,629.6563,57,633.6563,67,637.6563,63,633.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="61" x2="523" y1="633.6563" y2="633.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="73" y="628.9014">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="342" x="91" y="628.9014">request teacher data(acronym, taxPayerNumber, birthDate)</text><path d="M10,655.6563 L71,655.6563 L71,662.1797 L61,672.1797 L10,672.1797 L10,655.6563 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="45.0469" style="stroke:#000000;stroke-width:1.5;" width="583.5" x="10" y="655.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="668.4248">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="197" x="86" y="667.6143">[role.toString().equals("MANAGER")]</text><polygon fill="#181818" points="67,688.7031,57,692.7031,67,696.7031,63,692.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="61" x2="523" y1="692.7031" y2="692.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="73" y="687.9482">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="291" x="91" y="687.9482">request manager data(taxPayerNumber, birthDate)</text><polygon fill="#181818" points="512,724.2266,522,728.2266,512,732.2266,516,728.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="56" x2="518" y1="728.2266" y2="728.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="63" y="723.4717">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="81" y="723.4717">inputs requested data</text><polygon fill="#181818" points="1059,752.75,1069,756.75,1059,760.75,1063,756.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="534" x2="1065" y1="756.75" y2="756.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="541" y="751.9951">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="363" x="559" y="751.9951">createProfile(user, id, taxPayerNumber, dateOfBirth, profileInfo)</text><polygon fill="#181818" points="2208,781.2734,2218,785.2734,2208,789.2734,2212,785.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1081" x2="2214" y1="785.2734" y2="785.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1088" y="780.5186">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="404" x="1106" y="780.5186">profile = new Profile(user, id, taxPayerNumber, dateOfBirth, profileInfo)</text><polygon fill="#181818" points="2107.5,839.7969,2117.5,843.7969,2107.5,847.7969,2111.5,843.7969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1081" x2="2113.5" y1="843.7969" y2="843.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1088" y="839.042">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="1106" y="839.042">addNewProfile(profile)</text><polygon fill="#181818" points="2324,868.3203,2334,872.3203,2324,876.3203,2328,872.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2129.5" x2="2330" y1="872.3203" y2="872.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2136.5" y="867.5654">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="2154.5" y="867.5654">repositories()</text><polygon fill="#181818" points="2467,896.8438,2477,900.8438,2467,904.8438,2471,900.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2346" x2="2473" y1="900.8438" y2="900.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2353" y="896.0889">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="2371" y="896.0889">profiles()</text><polygon fill="#181818" points="2718,955.3672,2728,959.3672,2718,963.3672,2722,959.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2129.5" x2="2724" y1="959.3672" y2="959.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2136.5" y="954.6123">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="2154.5" y="954.6123">save(profile)</text><polygon fill="#181818" points="67,1013.8906,57,1017.8906,67,1021.8906,63,1017.8906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="61" x2="523" y1="1017.8906" y2="1017.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="73" y="1013.1357">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="91" y="1013.1357">informs operation success</text><!--MD5=[2f07d0561adefa18d8f365fa5c58c94a]
@startuml
'https://plantuml.com/sequence-diagram

autonumber

actor manager as "Manager"

participant ":UsersUi" as ui <<presentation>>
participant ":AddUserAction" as action <<application>>
participant ":AddUserUi" as addUi <<presentation>>
participant ":AddUserController" as controller <<application>>
participant ":ProfileController" as profileController <<application>>
participant "SystemUser" as user <<domain>>
participant ":UserManagementService" as userService
participant ":UserBuilder" as builder <<application>>
participant ":ProfileService" as service <<application>>
participant "Profile" as profile <<domain>>
participant PersistenceContext as persistence
participant RepositoryFactory as factory
database ":UserRepository" as userRepository <<repository>>
database ":ProfileRepository" as repository <<repository>>


activate manager

manager -> ui : requests to add new user
activate ui
ui -> action : execute()
activate action
action -> addUi : doShow()
deactivate action
deactivate ui

activate addUi
addUi - -> manager : requests base data(username, password, firstName, lastName, email, role)
deactivate addUi
manager -> addUi : inputs requested data
activate addUi
addUi -> controller : addUser(username, password, firstName, lastName, email, role)
activate controller
controller -> userService : registerNewUser(username, password, firstName, lastName, email, role, creationDate)
activate userService
userService -> builder : newUser = with.(username, password, firstName, lastName, email, role, creationDate)
activate builder
deactivate builder
userService -> persistence : repositories()
activate persistence
note right of persistence: repository can be either in memory or JPA
persistence -> factory : users()
activate factory
deactivate factory
deactivate persistence
userService -> userRepository : save(newUser)
activate userRepository
deactivate userRepository
deactivate userService
deactivate controller

alt role.toString().equals("STUDENT")
addUi - -> manager : request student data(mecanographicNumber, taxPayerNumber, birthDate)
end
alt role.toString().equals("TEACHER")
addUi - -> manager : request teacher data(acronym, taxPayerNumber, birthDate)
end
alt role.toString().equals("MANAGER")
addUi - -> manager : request manager data(taxPayerNumber, birthDate)
end
deactivate addUi
manager -> addUi : inputs requested data
activate addUi
addUi -> profileController : createProfile(user, id, taxPayerNumber, dateOfBirth, profileInfo)
activate profileController
profileController -> profile : profile = new Profile(user, id, taxPayerNumber, dateOfBirth, profileInfo)
activate profile
deactivate profile
profileController -> service : addNewProfile(profile)
activate service
service -> persistence : repositories()
activate persistence
persistence -> factory : profiles()
activate factory
deactivate factory
deactivate persistence
service -> repository : save(profile)
activate repository
deactivate repository
deactivate service
deactivate controller
addUi - -> manager : informs operation success


@enduml

@startuml

autonumber

actor manager as "Manager"

participant ":UsersUi" as ui <<presentation>>
participant ":AddUserAction" as action <<application>>
participant ":AddUserUi" as addUi <<presentation>>
participant ":AddUserController" as controller <<application>>
participant ":ProfileController" as profileController <<application>>
participant "SystemUser" as user <<domain>>
participant ":UserManagementService" as userService
participant ":UserBuilder" as builder <<application>>
participant ":ProfileService" as service <<application>>
participant "Profile" as profile <<domain>>
participant PersistenceContext as persistence
participant RepositoryFactory as factory
database ":UserRepository" as userRepository <<repository>>
database ":ProfileRepository" as repository <<repository>>


activate manager

manager -> ui : requests to add new user
activate ui
ui -> action : execute()
activate action
action -> addUi : doShow()
deactivate action
deactivate ui

activate addUi
addUi - -> manager : requests base data(username, password, firstName, lastName, email, role)
deactivate addUi
manager -> addUi : inputs requested data
activate addUi
addUi -> controller : addUser(username, password, firstName, lastName, email, role)
activate controller
controller -> userService : registerNewUser(username, password, firstName, lastName, email, role, creationDate)
activate userService
userService -> builder : newUser = with.(username, password, firstName, lastName, email, role, creationDate)
activate builder
deactivate builder
userService -> persistence : repositories()
activate persistence
note right of persistence: repository can be either in memory or JPA
persistence -> factory : users()
activate factory
deactivate factory
deactivate persistence
userService -> userRepository : save(newUser)
activate userRepository
deactivate userRepository
deactivate userService
deactivate controller

alt role.toString().equals("STUDENT")
addUi - -> manager : request student data(mecanographicNumber, taxPayerNumber, birthDate)
end
alt role.toString().equals("TEACHER")
addUi - -> manager : request teacher data(acronym, taxPayerNumber, birthDate)
end
alt role.toString().equals("MANAGER")
addUi - -> manager : request manager data(taxPayerNumber, birthDate)
end
deactivate addUi
manager -> addUi : inputs requested data
activate addUi
addUi -> profileController : createProfile(user, id, taxPayerNumber, dateOfBirth, profileInfo)
activate profileController
profileController -> profile : profile = new Profile(user, id, taxPayerNumber, dateOfBirth, profileInfo)
activate profile
deactivate profile
profileController -> service : addNewProfile(profile)
activate service
service -> persistence : repositories()
activate persistence
persistence -> factory : profiles()
activate factory
deactivate factory
deactivate persistence
service -> repository : save(profile)
activate repository
deactivate repository
deactivate service
deactivate controller
addUi - -> manager : informs operation success


@enduml

PlantUML version 1.2022.12(Sun Oct 23 19:12:26 WEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: GB
--></g></svg>